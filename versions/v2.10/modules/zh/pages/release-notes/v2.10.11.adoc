= Release v2.10.11
ifeval::["{build-type}" != "srfa"]
:page-languages: [en, zh]
endif::[]
:revdate: 2026-01-19
:page-revdate: {revdate}
ifeval::["{build-type}" == "community"]
:rn-component-version: v2.10
:rn-installation-requirements: https://ranchermanager.docs.rancher.com/{rn-component-version}/getting-started/installation-and-upgrade/installation-requirements
:rn-back-up-rancher: https://ranchermanager.docs.rancher.com/{rn-component-version}/how-to-guides/new-user-guides/backup-restore-and-disaster-recovery/back-up-rancher
:rn-install-rancher: https://docs.ranchermanager.rancher.io/getting-started/installation-and-upgrade/other-installation-methods/rancher-behind-an-http-proxy/install-rancher
:rn-private-registry: https://docs.k3s.io/installation/private-registry
:rn-oci-repositories: https://ranchermanager.docs.rancher.com/{rn-component-version}/how-to-guides/new-user-guides/helm-charts-in-rancher/oci-repositories
endif::[]
ifeval::["{build-type}" != "community"]
:rn-installation-requirements: xref:installation-and-upgrade/requirements/requirements.adoc
:rn-back-up-rancher: xref:rancher-admin/back-up-restore-and-disaster-recovery/back-up.adoc
:rn-install-rancher: xref:installation-and-upgrade/other-installation-methods/http-proxy/install-rancher.adoc
:rn-private-registry: https://documentation.suse.com/cloudnative/k3s/latest/en/installation/private-registry.html
:rn-oci-repositories: xref:cluster-admin/helm-charts-in-rancher/oci-repositories.adoc
endif::[]

[IMPORTANT]
====
If you are using Active Directory Federation Service (AD FS), upgrading to Rancher v2.10.1 or later may cause issues with authentication, requiring manual intervention. These issues are due to the AD FS Relying Party Trust not being able to pick up a signature verification certificate from the metadata. They can be corrected by either of two methods:

* Updating the Relying Party Trust information from federation metadata (Relying Party Trust -> Update from Federation Metadata...)
* Directly adding the certificate (Relying Party Trust -> Properties -> Signature tab -> Add -> Select the certificate).
For more information see https://github.com/rancher/rancher/issues/48655[#48655].
====

For more information on new features in the general minor release see the https://github.com/rancher/rancher/releases/tag/v2.10.0[v2.10.0 release notes].

== Changes Since v2.10.10

See the full list of https://github.com/rancher/rancher/compare/v2.10.10...v2.10.11[changes].

== Install/Upgrade Notes

If you're installing Rancher for the first time, your environment must fulfill the {rn-installation-requirements}[installation requirements].

== Changes in Image Artifacts

Image artifact digests were renamed in Rancher v2.12.0, v2.11.4 and v2.10.8. Up until this change, separate image digests files for each operating system and architecture have been maintained for compatibility reasons. With this change, only one file for each operating system is to be provided:

* The `rancher-images-digests-linux-amd64.txt` and `rancher-images-digests-linux-arm64.txt` files are to be renamed to `rancher-images-digests-linux.txt`.
* The `rancher-images-digests-windows-ltsc2019.txt` and `rancher-images-digests-windows-ltsc2022.txt` files are to be renamed to `rancher-images-digests-windows.txt`.

== Upgrade Requirements

* *Creating backups:* {rn-back-up-rancher}[Create a backup] before you upgrade Rancher. To roll back Rancher after an upgrade, you must first back up and restore Rancher to the previous Rancher version. Because Rancher will be restored to the same state as when the backup was created, any changes post-upgrade will not be included after the restore.
* *CNI requirements:*
** For Kubernetes v1.19 and later, disable firewalld as it's incompatible with various CNI plugins. See https://github.com/rancher/rancher/issues/28840[#28840].
** When upgrading or installing a Linux distribution that uses nf_tables as the backend packet filter, such as SLES 15, RHEL 8, Ubuntu 20.10, Debian 10, or later, upgrade to RKE v1.19.2 or later to get Flannel v0.13.0. Flannel v0.13.0 supports nf_tables. See Flannel https://github.com/flannel-io/flannel/issues/1317[#1317].
* *Requirements for air-gapped environments:*
** When using a proxy in front of an air-gapped Rancher instance, you must pass additional parameters to `NO_PROXY`. See the {rn-install-rancher}[documentation] and issue https://github.com/rancher/docs/issues/2725#issuecomment-702454584[#2725].
** When installing Rancher with Docker in an air-gapped environment, you must supply a custom `registries.yaml` file to the `docker run` command, as shown in the {rn-private-registry}[K3s documentation]. If the registry has certificates, then you'll also need to supply those. See https://github.com/rancher/rancher/issues/28969#issuecomment-694474229[#28969].
ifeval::["{build-type}" == "community"]
* **Requirements for general Docker installs:**
** When starting the Rancher Docker container, you must use the `privileged` flag. See https://docs.ranchermanager.rancher.io/pages-for-subheaders/rancher-on-a-single-node-with-docker[documentation].
** When upgrading a Docker installation, a panic may occur in the container, which causes it to restart. After restarting, the container will come up and work as expected. See https://github.com/rancher/rancher/issues/33685[#33685].
endif::[]

== Versions

[IMPORTANT]
====
With the release of Rancher Kubernetes Engine (RKE) v1.6.0, we are informing customers that RKE is now deprecated. RKE will be maintained for two more versions, following our https://www.suse.com/support/rancher-prime/#Rancher-Prime-Deprecation-Policy[deprecation policy].

Please note, EOL for RKE is July 31st, 2025. Prime customers must replatform from RKE to RKE2 or K3s.

RKE2 and K3s provide stronger security, and move away from upstream-deprecated Docker machine. Learn more about replatforming https://www.suse.com/c/rke-end-of-life-by-july-2025-replatform-to-rke2-or-k3s/[here].
====

=== Images

* rancher/rancher:v2.10.11

=== Tools

* CLI - https://github.com/rancher/cli/releases/tag/v2.10.11[v2.10.11]
* RKE - https://github.com/rancher/rke/releases/tag/v1.7.9[v1.7.9]

=== Kubernetes Versions for RKE

* v1.31.10 (Default)
* v1.30.14
* v1.29.15
* v1.28.15

=== Kubernetes Versions for RKE2/K3s

* v1.31.14 (Default)
* v1.30.14
* v1.29.15
* v1.28.15

=== Rancher Helm Chart Versions

In Rancher v2.6.0 and later, in the *Apps & Marketplace* UI, many Rancher Helm charts are named with a major version that starts with *100*. This avoids simultaneous upstream changes and Rancher changes from causing conflicting version increments. This also complies with semantic versioning (SemVer), which is a requirement for Helm. You can see the upstream version number of a chart in the build metadata, for example: `100.0.0+up2.1.0`. See https://github.com/rancher/rancher/issues/32294[#32294].

== Other Notes

=== Experimental Features

Rancher now supports the ability to use an OCI Helm chart registry for Apps & Marketplace. View documentation on {rn-oci-repositories}[using OCI based Helm chart repositories] and note this feature is in an experimental stage. See https://github.com/rancher/rancher/issues/29105[#29105] and https://github.com/rancher/rancher/pull/45062[#45062].

=== Deprecated Upstream Projects

In June 2023, Microsoft deprecated the Azure AD Graph API that Rancher had been using for authentication via Azure AD. When updating Rancher, update the configuration to make sure that users can still use Rancher with Azure AD. See https://documentation.suse.com/en-us/cloudnative/rancher-manager/v2.11/en/rancher-admin/users/authn-and-authz/configure-azure-ad.html#_migrating_from_azure_ad_graph_api_to_microsoft_graph_api[the documentation] and issue https://github.com/rancher/rancher/issues/29306[#29306] for details.

=== Removed Legacy Features

Apps functionality in the cluster manager has been deprecated as of the Rancher v2.7 line. This functionality has been replaced by the *Apps & Marketplace* section of the Rancher UI.
Also, `rancher-external-dns` and `rancher-global-dns` have been deprecated as of the Rancher v2.7 line.
The following legacy features have been removed as of Rancher v2.7.0. The deprecation and removal of these features was announced in previous releases. See https://github.com/rancher/dashboard/issues/6864[#6864].

*UI and Backend*

* CIS Scans v1 (Cluster)
* Pipelines (Project)
* Istio v1 (Project)
* Logging v1 (Project)
* RancherD

*UI*

* Multiclusterapps (Global): Apps within the *Multicluster Apps* section of the Rancher UI.

== Previous Rancher Behavior Changes

=== Previous Rancher Behavior Changes - Rancher General

* *Rancher v2.10.0:*
** Kubernetes v1.27 is no longer supported. Before you upgrade to Rancher v2.10.0, make sure that all clusters are running Kubernetes v1.28 or later. See https://github.com/rancher/rancher/issues/47591[#47591].
** The new annotation `field.cattle.io/creator-principal-name` was introduced in addition to the existing `field.cattle.io/creatorId` that allows specifying the creator's principal name when creating a cluster or a project. If this annotation is used, the `userPrincipalName` field of the corresponding `ClusterRoleTemplateBinding` or `ProjectRoleTemplateBinding` will be set to the specified principal. The principal should belong to the creator's user, which is enforced by the webhook. See https://github.com/rancher/rancher/issues/46828[#46828].
** When searching for group principals with a SAML authentication provider (with LDAP turned off), Rancher now returns a principal of correct type (group) with the name matching the search term. When searching principals with a SAML provider (with LDAP turned off) without specifying the desired type (as in Add cluster/project member), Rancher now returns both user and group principals with the name matching the search term. See https://github.com/rancher/rancher/issues/44441[#44441].
** Rancher now captures the last used time for Tokens and stores it in the `lastUsedAt` field. If the Authorized Cluster Endpoint is enabled and used on a downstream cluster Rancher captures the last used time in the `ClusterAuthToken` object and makes the best effort to sync it back to the corresponding Token in the upstream. See https://github.com/rancher/rancher/issues/45732[#45732].
** Rancher deploys the System Upgrade Controller (SUC) to facilitate Kubernetes upgrades for imported RKE2/K3s clusters. Starting with this version, the mechanism used to deploy this component in downstream clusters has transitioned from legacy V1 apps to fully supported V2 apps, providing a seamless upgrade process for Rancher. For more details, please see this https://github.com/rancher/rancher/issues/42448#issuecomment-2477309567[issue comment].

=== Previous Rancher Behavior Changes - Rancher CLI

* *Rancher v2.10.0:*
** The deprecated subcommand `globaldns` was removed from the Rancher CLI. See https://github.com/rancher/rancher/issues/48127[#48127].

=== Previous Rancher Behavior Changes - Rancher App (Global UI)

* *Rancher v2.10.0:*
** This release includes a major upgrade to the Dashboard (Cluster Explorer) Vue framework from Vue 2 to Vue 3. Please view our documentation on updating existing UI extensions to be compliant with the Rancher v2.10 UI framework in the https://extensions.rancher.io/extensions/next/rancher-2.10-support[v2.10.0 UI extension changelog]. If experiencing a page that fails to load please file an issue via the https://github.com/rancher/dashboard/issues/new/choose[Dashboard repository] and choose the "Bug report" option for us to further investigate. See https://github.com/rancher/dashboard/issues/7653[#7653].
** The performance of the Clusters lists in the Home page and the Side Menu has greatly improved when there are hundreds of clusters. See https://github.com/rancher/dashboard/issues/11995[#11995] and https://github.com/rancher/dashboard/issues/11993[#11993].
** The previous Dashboard Ember UI (Cluster Manager) will no longer be directly accessible. The relative pages that rely on the previous UI will continue to be embedded in the new Vue UI (Cluster Explorer). See https://github.com/rancher/dashboard/issues/11371[#11371].
** Updated the data directory configuration by replacing the checkbox option with 3 user input options below:
+
*** `Use default data directory configuration`
*** `Use a common base directory for data directory configuration (sub-directories will be used for the system-agent, provisioning and distro paths)` - This option displays a text input where users can enter a base directory for all 3 subdirectories which Rancher programmatically appends to the correct subdirectories.
*** `Use custom data directories` - This option displays 3 text inputs, one for each subdirectory type where users can input each path individually.
+
See https://github.com/rancher/dashboard/issues/11560[#11560].

=== Previous Rancher Behavior Changes - Virtualization Management (Harvester)

* *Rancher v2.10.0:*
** On the Cloud Credential list, you can now easily see if a Harvester Credential is about to expire or has expired and choose to renew it. You will also be notified on the Cluster Management Clusters list when an associated Harvester Cloud Credential is about to expire or has expired. When upgrading, an existing expired Harvester Credential will not contain a warning. You can still renew the token on the resources menu. See https://github.com/rancher/dashboard/issues/11332[#11332].

=== Previous Rancher Behavior Changes - Windows

* *Rancher v2.10.0:*
** Rancher v2.10.0 includes changes to how Windows nodes behave post node reboot, as well as provides two new settings to control how Windows services created by Rancher behave on startup.
+
Two new agent environment variables have been added for Windows nodes, `CATTLE_ENABLE_WINS_SERVICE_DEPENDENCY` and `CATTLE_ENABLE_WINS_DELAYED_START`. These changes can be configured in the Rancher UI, and will be respected by all nodes running `rancher-wins` version `v0.4.20` or greater.
+
*** `CATTLE_ENABLE_WINS_SERVICE_DEPENDENCY` defines a service dependency between RKE2 and `rancher-wins`, ensuring RKE2 will not start before `rancher-wins`.
*** `CATTLE_ENABLE_WINS_DELAYED_START` changes the start type of `rancher-wins` to `AUTOMATIC (DELAYED)`, ensuring it starts after other Windows services.
+
Additionally, Windows nodes will now attempt to execute plans multiple times if the initial application fails, up to 5 times. This change, as well as appropriate use of the above two agent environment variables, aims to address plan failures for Windows nodes after a node reboot.
+
See https://github.com/rancher/rancher/issues/42458[#42458].
** A change was made starting with RKE2 versions `v1.28.15`, `v1.29.10`, `v1.30.6` and `v1.31.2` on Windows which allows the user to configure `*_PROXY` environment variables on the `rke2` service after the node has already been provisioned.
+
Previously any attempt to do so would be a no-op. With this change, If the `*_PROXY` environment variables are set on the cluster _after_ a Windows node is provisioned, they can be automatically removed from the `rke2` service. However, if the variables are set _before_ the node is provisioned, they cannot be removed.
+
More information can be found https://github.com/rancher/rancher/issues/47839[here]. A workaround is to remove the environment variables from the `rancher-wins` service and restart the service or node. At which point `*_PROXY` environment variables will no longer be set on either service.
+
[source,shell]
----
Remove-ItemProperty HKLM:SYSTEM\CurrentControlSet\Services\rancher-wins -Name Environment
Restart-Service rancher-wins
----
+
See https://github.com/rancher/rancher/issues/47544[#47544].


== Long-standing Known Issues

=== Long-standing Known Issues - Cluster Provisioning

* Not all cluster tools can be installed on a hardened cluster.
* *Rancher v2.8.1:*
** When you  attempt to register a new etcd/controlplane node in a CAPR-managed cluster after a failed etcd snapshot restoration, the node can become stuck in a perpetual paused state, displaying the error message `[ERROR]  000 received while downloading Rancher connection information. Sleeping for 5 seconds and trying again`. As a workaround, you can unpause the cluster by running `kubectl edit clusters.cluster clustername -n fleet-default` and set `spec.unpaused` to `false`.  See https://github.com/rancher/rancher/issues/43735[#43735].
* *Rancher v2.7.2:*
** If you upgrade or update any hosted cluster, and go to *Cluster Management > Clusters* while the cluster is still provisioning, the *Registration* tab is visible. Registering a cluster that is already registered with Rancher can cause data corruption. See https://github.com/rancher/dashboard/issues/8524[#8524].

=== Long-standing Known Issues - RKE Provisioning

* *Rancher v2.9.0:*
** The Weave CNI plugin for RKE v1.27 and later is now deprecated, due to the plugin being deprecated for upstream Kubernetes v1.27 and later. RKE creation will not go through as it will raise a validation warning. See https://github.com/rancher/dashboard/issues/11322[#11322].

=== Long-standing Known Issues - RKE2 Provisioning

* *Rancher v2.9.0:*
** When adding the `provisioning.cattle.io/allow-dynamic-schema-drop` annotation through the cluster config UI, the annotation disappears before adding the value field. When viewing the YAML, the respective value field is not updated and is displayed as an empty string. As a workaround, when creating the cluster, set the annotation by using the *Edit Yaml* option located in the dropdown *⋮* attached to your respective cluster in the *Cluster Management* view. See https://github.com/rancher/dashboard/issues/13655[#13655].
* *Rancher v2.7.7:*
** Due to the backoff logic in various components, downstream provisioned K3s and RKE2 clusters may take longer to re-achieve `Active` status after a migration. If you see that a downstream cluster is still updating or in an error state immediately after a migration, please let it attempt to resolve itself. This might take up to an hour to complete. See https://github.com/rancher/rancher/issues/34518[#34518] and https://github.com/rancher/rancher/issues/42834[#42834].
* *Rancher v2.7.6:*
** Provisioning RKE2/K3s clusters with added (not built-in) custom node drivers causes provisioning to fail. As a workaround, https://github.com/rancher/rancher/issues/37074#issuecomment-1664722305[fix] the added node drivers after activating. See https://github.com/rancher/rancher/issues/37074[#37074].
* *Rancher v2.7.2:*
** When viewing or editing the YAML configuration of downstream RKE2 clusters through the UI, `spec.rkeConfig.machineGlobalConfig.profile` is set to `null`, which is an invalid configuration. See https://github.com/rancher/dashboard/issues/8480[#8480].
*** https://docs.rke2.io/install/uninstall?_highlight=uninstall#tarball-method[RKE2 uninstall script].

=== Long-standing Known Issues - K3s Provisioning

* *Rancher v2.7.6:*
** Provisioning RKE2/K3s clusters with added (not built-in) custom node drivers causes provisioning to fail. As a workaround, https://github.com/rancher/rancher/issues/37074#issuecomment-1664722305[fix] the added node drivers after activating. See https://github.com/rancher/rancher/issues/37074[#37074].
* *Rancher v2.7.2:*
** Clusters remain in an `Updating` state even when they contain nodes in an `Error` state. See https://github.com/rancher/rancher/issues/39164[#39164].

=== Long-standing Known Issues - Rancher CLI

* *Rancher v2.10.1:*
** The Rancher CLI uses dedicated HTTP clients in login and SSH commands to download certificates and an SSH key respectively. However, the CLI currently does not respect proxy settings and does not set an HTTP timeout. See https://github.com/rancher/rancher/issues/48321[#48321].

=== Long-standing Known Issues - Rancher App (Global UI)

* *Rancher v2.10.0:*
** After deleting a Namespace or Project in the Rancher UI, the Namespace or Project remains visible. As a workaround, refresh the page. See https://github.com/rancher/dashboard/issues/12220[#12220].
* *Rancher v2.9.2:*
** Although system mode node pools must have at least one node, the Rancher UI allows a minimum node count of zero. Inputting a zero minimum node count through the UI can cause cluster creation to fail due to an invalid parameter error. To prevent this error from occurring, enter a minimum node count at least equal to the node count. See https://github.com/rancher/dashboard/issues/11922[#11922].
* *Rancher v2.7.7:*
** When creating a cluster in the Rancher UI it does not allow the use of an underscore `_` in the `Cluster Name` field. See https://github.com/rancher/dashboard/issues/9416[#9416].

=== Long-standing Known Issues - Hosted Rancher

* *Rancher v2.7.5:*
** The *Cluster* page shows the *Registration* tab when updating or upgrading a hosted cluster. See https://github.com/rancher/dashboard/issues/8524[#8524].

=== Long-standing Known Issues - EKS

* *Rancher v2.7.0:*
** EKS clusters on Kubernetes v1.21 or below on Rancher v2.7 cannot be upgraded. See https://github.com/rancher/rancher/issues/39392[#39392].

=== Long-standing Known Issues - Authentication

* *Rancher v2.9.0:*
** There are some known issues with the OpenID Connect provider support:
*** When the generic OIDC auth provider is enabled, and you attempt to add auth provider users to a cluster or project, users are not populated in the dropdown search bar. This is expected behavior as the OIDC auth provider alone is not searchable. See https://github.com/rancher/rancher/issues/46104[#46104].
*** When the generic OIDC auth provider is enabled, auth provider users that are added to a cluster/project by their username are not able to access resources upon logging in. A user will only have access to resources upon login if the user is added by their userID.  See https://github.com/rancher/rancher/issues/46105[#46105].
*** When the generic OIDC auth provider is enabled and an auth provider user in a nested group is logged into Rancher, the user will see the following error when they attempt to create a Project: `http://projectroletemplatebindings.management.cattle.io/[projectroletemplatebindings.management.cattle.io] is forbidden: User "u-gcxatwsnku" cannot create resource "projectroletemplatebindings" in API group "http://management.cattle.io/[management.cattle.io]" in the namespace "p-9t5pg"`. However, the project is still created. See https://github.com/rancher/rancher/issues/46106[#46106].

=== Long-standing Known Issues - Rancher Webhook

* *Rancher v2.7.2:*
** A webhook is installed in all downstream clusters. There are several issues that users may encounter with this functionality:
*** If you rollback from a version of Rancher v2.7.2 or later, to a Rancher version earlier than v2.7.2, the webhooks will remain in downstream clusters. Since the webhook is designed to be 1:1 compatible with specific versions of Rancher, this can cause unexpected behaviors to occur downstream. The Rancher team has developed a https://github.com/rancher/webhook/wiki/Remove-Webhook-from-downstream-clusters[script] which should be used after rollback is complete (meaning after a Rancher version earlier than v2.7.2 is running). This removes the webhook from affected downstream clusters. See https://github.com/rancher/rancher/issues/40816[#40816].

=== Long-standing Known Issues - Virtualization Management (Harvester)

* *Rancher v2.7.2:*
** If you're using Rancher v2.7.2 with Harvester v1.1.1 clusters, you won't be able to select the Harvester cloud provider when deploying or updating guest clusters. The https://github.com/harvester/release-notes/blob/main/v1.1.2.md#important-information-about-rancher-support[Harvester release notes] contain instructions on how to resolve this. See https://github.com/harvester/harvester/issues/3750[#3750].

=== Long-standing Known Issues - Backup/Restore

* When migrating to a cluster with the Rancher Backup feature, the server-url cannot be changed to a different location. It must continue to use the same URL.
* *Rancher v2.7.7:*
** Due to the backoff logic in various components, downstream provisioned K3s and RKE2 clusters may take longer to re-achieve `Active` status after a migration. If you see that a downstream cluster is still updating or in an error state immediately after a migration, please let it attempt to resolve itself. This might take up to an hour to complete. See https://github.com/rancher/rancher/issues/34518[#34518] and https://github.com/rancher/rancher/issues/42834[#42834].

=== Long-standing Known Issues - Continuous Delivery (Fleet)

* *Rancher v2.10.3:*
** In some cases, updating Fleet may result in a pre-existing `GitRepo` getting stuck in a `GitUpdating` state, and a force update does not resolve the issue. An error message similar to the following would appear in the git job’s logs: `level=fatal msg="secrets \"<secret-name>\" is forbidden: User \"system:serviceaccount:fleet-default:git-<name>\" cannot delete resource \"secrets\" in API group \"\" in the namespace \"fleet-default\""`. In Fleet v0.11.8, a https://github.com/rancher/fleet-docs/issues/235#issuecomment-2871971806[workaround] is available. See https://github.com/rancher/fleet/issues/2898[#2898].
